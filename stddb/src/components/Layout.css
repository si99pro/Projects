/* src/components/Layout.css */

/* --- Layout Wrapper --- */
.app-layout-wrapper { min-height: 100vh; }

/* --- Main Grid Container (Desktop First) --- */
.main-grid-container {
  display: grid;
  /* Define columns: SideNav space | Main | Right Sidebar */
  grid-template-columns: var(--sidebar-left-width) minmax(0, 1fr) var(--sidebar-right-width);
  gap: var(--layout-gap);
  /* Padding needed for spacing between grid items and edges */
  /* Body padding handles space below fixed header */
  padding: var(--spacing-lg) var(--layout-padding-x) var(--spacing-lg);
  max-width: var(--layout-max-width);
  margin-left: auto; margin-right: auto; width: 100%;
  box-sizing: border-box; align-items: start;
}

/* --- Left Sidebar Wrapper (Simplified - Placeholder in Grid) --- */
.side-nav-wrapper {
  grid-column: 1 / 2;
  /* This element ONLY reserves space in the grid. */
  /* Positioning is handled by SideNav.js fixed styles. */
  /* No position, top, height, or z-index needed here. */
}

/* --- Main Content Area --- */
.main-content-area {
  grid-column: 2 / 3;
  min-width: 0;
  /* Starts below header (body padding) + grid top padding */
}

/* --- Right Sidebar Wrapper (Kept Sticky) --- */
.right-sidebar-wrapper {
  grid-column: 3 / 4;
  position: sticky;
  /* Stick relative to the container top (which is below header) */
  top: 0;
  /* Adjust height calculation: Viewport - Header - Grid Bottom Padding */
  height: calc(100vh - var(--header-height) - var(--spacing-lg));
  overflow-y: auto;
  padding-bottom: var(--spacing-lg);
  box-sizing: border-box;

  /* Scrollbar styles... */
  --_scrollbar-thumb: rgba(0, 0, 0, 0.2);
  --_scrollbar-thumb-hover: rgba(0, 0, 0, 0.4);
  scrollbar-width: thin;
  scrollbar-color: var(--_scrollbar-thumb) transparent;

  @media (prefers-color-scheme: dark) {
    --_scrollbar-thumb: rgba(255, 255, 255, 0.2);
    --_scrollbar-thumb-hover: rgba(255, 255, 255, 0.4);
  }
}
.right-sidebar-wrapper::-webkit-scrollbar { width: 8px; height: 8px; }
.right-sidebar-wrapper::-webkit-scrollbar-track { background: transparent; }
.right-sidebar-wrapper::-webkit-scrollbar-thumb {
    background-color: var(--_scrollbar-thumb); border-radius: 4px;
    border: 2px solid transparent; background-clip: content-box; }
.right-sidebar-wrapper::-webkit-scrollbar-thumb:hover { background-color: var(--_scrollbar-thumb-hover); }


/* ============================================ */
/* --- Responsive Adjustments --- */
/* ============================================ */

/* --- Tablet View --- */
@media (max-width: 1199px) {
  .main-grid-container {
    /* Grid adjusts, SideNav fixed positioning handles itself */
    grid-template-columns: var(--sidebar-left-width) minmax(0, 1fr);
    padding-left: var(--layout-padding-x);
    padding-right: var(--layout-padding-x);
  }
  .right-sidebar-wrapper { display: none; }
  .side-nav-wrapper { /* Still needed as grid placeholder */ }
}

/* --- Mobile View --- */
@media (max-width: 767px) {
  .main-grid-container {
    display: block; /* Stack elements */
    padding: 0; /* Remove grid padding */
    max-width: none; width: 100%; gap: 0;
  }

  .side-nav-wrapper {
     /* Wrapper not needed visually when drawer is temporary */
     display: none;
  }

  .main-content-area {
     /* Add padding since grid padding is removed */
     /* Body padding still provides space below header */
     padding: var(--spacing-lg);
  }

  .right-sidebar-wrapper { display: none; }
}